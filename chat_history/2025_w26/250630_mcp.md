# 20250629 Vibe Coding Prompts

## Generate design document for the MCP module

``` markdown
0. æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦åœ¨æ ¹ç›®å½•çš„ MCP ç›®å½•ä¸‹ï¼ŒæŠŠ @service å¯¹å¤–æä¾›çš„æœåŠ¡ï¼Œè½¬æ¢ä¸ºä¸€ä¸ª MCP Serverï¼Œä½†æ˜¯è¿›è¡Œè®¾è®¡ä¹‹å‰ï¼Œè¯·å…ˆè”ç½‘è°ƒç ” NodeJS æ„å»º MCP Server æ˜¯å¦æœ‰æœ€ä½³å®è·µï¼Œæ¨èä½¿ç”¨ä»€ä¹ˆåº“è¿›è¡Œå¼€å‘ã€‚ç„¶åç›´æ¥åœ¨è¿™é‡Œæ‰“å°ä½ çš„åˆæ­¥è®¾è®¡æ–¹æ¡ˆï¼Œæš‚æ—¶ä¸ç”¨å†™å…¥åˆ°æ–‡ä»¶é‡Œé¢ã€‚
2. ä½ æ²¡æœ‰ç†è§£ service æä¾›çš„æœåŠ¡ï¼Œè¯·é˜…è¯» @design.md ï¼ŒåŸºäºæˆ‘ä»¬çš„ APIï¼Œé‡æ–°è®¾è®¡ä½ çš„æ ¸å¿ƒåŠŸèƒ½ã€‚
3. åªéœ€è¦æä¾›ä»“åº“é—®ç­”å·¥å…·å³å¯ï¼Œå…¶ä»–ä¸€å¾‹ä¸éœ€è¦ã€‚
4. å¦‚æœæˆ‘å¸Œæœ›ç”¨æˆ·åç»­å¯ä»¥ä½¿ç”¨ç±»ä¼¼ FireCrawl çš„å®‰è£…æ–¹å¼æ¥å®‰è£…æˆ‘ä»¬çš„ mcp æœåŠ¡å™¨ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•åšï¼š

```
{
  "mcpServers": {
    "firecrawl-mcp": {
      "command": "npx",
      "args": ["-y", "firecrawl-mcp"]
    }
  }
}
```

5. æ¥ä¸‹æ¥è¯·å‚è€ƒ @design.md ï¼Œç»¼åˆæˆ‘ä»¬ä¸Šè¿°è®¨è®ºï¼Œåœ¨æ ¹ç›®å½•çš„ mcp ç›®å½•ä¸‹ä¹Ÿç”Ÿæˆä¸€ä»½ design.mdã€‚

è¦æ±‚ï¼š

1. è¾“å‡ºæ–‡æ¡£ä½¿ç”¨è‹±æ–‡ã€‚
2. å°½å¯èƒ½å°‘ä½¿ç”¨ emojiã€‚
```

## Implement MCP server

```` markdown
1. è¯·åŸºäº @design.md ï¼Œæ­å»º MCP æœåŠ¡çš„åŸºæœ¬å¼€å‘ç¯å¢ƒã€‚
2. è”ç½‘æŸ¥è¯¢ @modelcontextprotocol/inspector çš„ç”¨æ³•ï¼Œå‘Šè¯‰æˆ‘å¦‚ä½•ä½¿ç”¨ MCP Inspector åœ¨æœ¬åœ°è°ƒè¯•æˆ‘ä»¬çš„ MCP serverã€‚
3. ï¼ˆä½¿ç”¨ MCP Inspector æœ¬åœ°æµ‹è¯•ï¼‰MCP è°ƒç”¨ ask-repository ä¼šæŠ¥é”™ï¼š
4. æˆ‘ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯åŠ¨ MCP Inspectorï¼ˆé…ç½®æ–‡ä»¶æ˜¯ mcp/inspector.config.json ï¼‰ï¼š

```
# ihainan @ debian-dev in ~/extend/projects/gemini-cli-git-ask/mcp on git:main x .venv [9:38:58] C:130
$ DANGEROUSLY_OMIT_AUTH=true HOST=0.0.0.0 SERVER_PORT=6277 ALLOWED_ORIGINS=http://192.168.100.101:6274 \
npx @modelcontextprotocol/inspector \
  --config inspector.config.json \
  --server my-stdio-server
Starting MCP inspector...
âš™ï¸ Proxy server listening on 0.0.0.0:6277
âš ï¸  WARNING: Authentication is disabled. This is not recommended.
ğŸ” MCP Inspector is up and running at http://127.0.0.1:6274 ğŸš€
New STDIO connection request
Query parameters: {"command":"node","args":"dist/index.js","env":"{}","transportType":"stdio"}
STDIO transport: command=/home/ihainan/.nvm/versions/node/v22.16.0/bin/node, args=dist/index.js
Created server transport
Created client transport
Received POST message for sessionId 26954b89-4e3f-4894-a703-8daace7aa99d
Received POST message for sessionId 26954b89-4e3f-4894-a703-8daace7aa99d
Received POST message for sessionId 26954b89-4e3f-4894-a703-8daace7aa99d
Received POST message for sessionId 26954b89-4e3f-4894-a703-8daace7aa99d
```

åœ¨å‰ç«¯æµ‹è¯• ask-repository toolï¼ŒæŠ¥é”™ï¼š

```
"Error: HTTP 502: {"status":"error","error_code":"GEMINI_EXECUTION_FAILED","message":"Gemini CLI execution failed","details":{"stderr":"","command":"echo \"You are a code analysis assistant. Please analyze the provided repository \nand answer questions about the codebase accurately and concisely.\n\nYour answer must include all information required by the question, so the user does not need to check any project files.\n\nDo not output anything except your answer. Do not add summaries, disclaimers, or any extra information beyond the direct answer.\n\nWhen analyzing code, consider:\n- Overall architecture and design patterns\n- Code structure and organization\n- Key functionality and features\n- Dependencies and integrations\n- Best practices and potential improvements\n\nOnly output the answer. Do not output any additional or unrelated information.\n\n\nQuestion: ä»‹ç»ä¸€ä¸‹é¡¹ç›®\" | gemini --model gemini-2.5-flash --all_files","error":{"code":null,"killed":true,"signal":"SIGTERM","cmd":"echo \"You are a code analysis assistant. Please analyze the provided repository \nand answer questions about the codebase accurately and concisely.\n\nYour answer must include all information required by the question, so the user does not need to check any project files.\n\nDo not output anything except your answer. Do not add summaries, disclaimers, or any extra information beyond the direct answer.\n\nWhen analyzing code, consider:\n- Overall architecture and design patterns\n- Code structure and organization\n- Key functionality and features\n- Dependencies and integrations\n- Best practices and potential improvements\n\nOnly output the answer. Do not output any additional or unrelated information.\n\n\nQuestion: ä»‹ç»ä¸€ä¸‹é¡¹ç›®\" | gemini --model gemini-2.5-flash --all_files"},"executionTime":302}}"
```

è¯·åˆ†æåŸå› ï¼ˆæ¯”å¦‚æ˜¯ä¸æ˜¯æˆ‘ä»¬è°ƒç”¨åç«¯çš„æ—¶å€™ï¼Œå‚æ•°ä¼ é”™äº†ï¼Ÿï¼‰
```
"Error: HTTP 404: {"status":"error","error_code":"NOT_FOUND","message":"Route POST /ask not found"}"
```

è¯·å‚è€ƒ @design.md ä»¥åŠæ ¹ç›®å½•ä¸‹ service å†…éƒ¨å®ç°ï¼Œè°ƒç ” MCP Server è°ƒç”¨ Service API æ˜¯å¦æ­£ç¡®

5. è¯·æ›´æ–° @design.md
6. è¯· git commit æœ¬æ¬¡ä»»åŠ¡çš„ä¿®æ”¹å†…å®¹
````

```` markdown
# åªä¼ é€’å‚æ•°
npx @modelcontextprotocol/inspector node dist/index.js arg1 arg2

# åªä¼ é€’ç¯å¢ƒå˜é‡
npx @modelcontextprotocol/inspector -e SERVICE_URL=http://192.168.100.101:8080 -e DEBUG=true node dist/index.js

# åŒæ—¶ä¼ é€’ç¯å¢ƒå˜é‡å’Œå‚æ•°
npx @modelcontextprotocol/inspector -e SERVICE_URL=http://192.168.100.101:8080 -e LOG_LEVEL=debug node dist/index.js --verbose

# ä½¿ç”¨ -- åˆ†éš” inspector æ ‡å¿—å’ŒæœåŠ¡å™¨å‚æ•°
npx @modelcontextprotocol/inspector -e SERVICE_URL=http://192.168.100.101:8080 -- node dist/index.js --server-flag

CLIENT_PORT=18080 SERVER_PORT=19000 npx @modelcontextprotocol/inspector node dist/index.js
````